/* Mobile-first CSS for Lt. Dan's Run for Re-Election */

/* Orientation Warning Styles */
.orientation-warning {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    height: 100dvh; /* Use dynamic viewport height for better mobile support */
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ffffff;
    font-family: 'Tiny5', system-ui, sans-serif;
    transition: opacity 0.3s ease;
}

.orientation-content {
    text-align: center;
    padding: 2rem;
    max-width: 400px;
    animation: fadeInUp 0.6s ease-out;
}

.phone-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    animation: bounce 2s infinite;
}

.orientation-content h2 {
    font-size: 1.5rem;
    color: #ffd700;
    margin-bottom: 1rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.orientation-content p {
    font-size: 1rem;
    line-height: 1.4;
    margin-bottom: 0.5rem;
    color: #cccccc;
}

.rotate-animation {
    font-size: 2rem;
    margin-top: 1rem;
    animation: rotate 2s linear infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-20px); }
    60% { transform: translateY(-10px); }
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Click to Start Screen Styles */
.click-to-start-message {
    margin: 2rem 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.ready-icon {
    font-size: 4rem;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Animation Classes for Staged Entrance */
.animate-slide-in-from-top {
    animation: slideInFromTop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-slide-in-from-left {
    animation: slideInFromLeft 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-slide-in-from-right {
    animation: slideInFromRight 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
}

/* Title-specific animations */
.animate-title-main-enter {
    animation: titleMainEnter 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.animate-title-sub-enter {
    animation: titleSubEnter 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* Presents sequence animations */
.animate-logo-fade-in {
    animation: logoFadeIn 1.0s ease-out forwards;
}

.animate-presents-slide-in {
    animation: presentsSlideIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* Initial hidden states */
.hidden-above {
    opacity: 0;
    transform: translateY(-100px);
}

.hidden-left {
    opacity: 0;
    transform: translateX(-100px);
}

.hidden-right {
    opacity: 0;
    transform: translateX(100px);
}

.hidden-fade {
    opacity: 0;
}

/* Title-specific hidden states */
.title-main.title-main-hidden {
    opacity: 0 !important;
    transform: translateY(-60px) !important;
}

.title-sub.title-sub-hidden {
    opacity: 0 !important;
    transform: translateY(-60px) !important;
}

/* Animation Keyframes */
@keyframes slideInFromTop {
    0% {
        opacity: 0;
        transform: translateX(-50%) translateY(-100px);
    }
    100% {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

@keyframes titleMainEnter {
    0% {
        opacity: 0;
        transform: translateY(-60px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes titleSubEnter {
    0% {
        opacity: 0;
        transform: translateY(-60px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes logoFadeIn {
    0% {
        opacity: 0;
        transform: translateX(-50%) scale(0.8);
    }
    100% {
        opacity: 1;
        transform: translateX(-50%) scale(1);
    }
}

@keyframes presentsSlideIn {
    0% {
        opacity: 0;
        transform: translateX(-50%) translateY(-30px);
    }
    100% {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

@keyframes slideInFromLeft {
    0% {
        opacity: 0;
        transform: translateX(-100px);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInFromRight {
    0% {
        opacity: 0;
        transform: translateX(100px);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes fadeIn {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}

/* Skip animation button hint */
.skip-hint {
    position: absolute;
    bottom: 1rem;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.9);
    font-style: italic;
    z-index: 20;
    animation: pulse 2s infinite;
    text-shadow: 2px 2px 0 #000000;
    font-family: 'Tiny5', system-ui, sans-serif;
    font-weight: bold;
    letter-spacing: 0.05em;
}

.skip-hint.hidden {
    display: none !important;
}

/* Fall off animations - Knock-off effect with faster gravity */
.animate-fall-off {
    animation: fallOff 2.2s cubic-bezier(0.25, 0.1, 0.25, 1.0) forwards;
}

@keyframes fallOff {
    0% {
        transform: translateX(-50%) translateY(0) rotate(0deg);
    }
    15% {
        transform: translateX(-50%) translateY(-20px) rotate(-5deg);
    }
    100% {
        transform: translateX(-50%) translateY(1400px) rotate(-90deg);
    }
}

/* Fall off from left animation */
.animate-fall-off-left {
    animation: fallOffLeft 2.2s cubic-bezier(0.25, 0.1, 0.25, 1.0) forwards;
}

@keyframes fallOffLeft {
    0% {
        transform: translateX(0) translateY(0) rotate(0deg);
    }
    15% {
        transform: translateX(-30px) translateY(-20px) rotate(-5deg);
    }
    100% {
        transform: translateX(-1400px) translateY(1400px) rotate(-90deg);
    }
}

/* Fall off from right animation */
.animate-fall-off-right {
    animation: fallOffRight 2.2s cubic-bezier(0.25, 0.1, 0.25, 1.0) forwards;
}

@keyframes fallOffRight {
    0% {
        transform: translateX(0) translateY(0) rotate(0deg);
    }
    15% {
        transform: translateX(30px) translateY(-20px) rotate(5deg);
    }
    100% {
        transform: translateX(1400px) translateY(1400px) rotate(90deg);
    }
}

/* Special fall-off animations for centered elements (logo and presents) */
.animate-fall-off-centered-left {
    animation: fallOffCenteredLeft 2.2s cubic-bezier(0.25, 0.1, 0.25, 1.0) forwards;
}

@keyframes fallOffCenteredLeft {
    0% {
        transform: translateX(-50%) translateY(0) scale(1) rotate(0deg);
    }
    15% {
        transform: translateX(-50%) translateY(-20px) scale(1) rotate(-5deg);
    }
    100% {
        transform: translateX(-1400px) translateY(1400px) scale(1) rotate(-90deg);
    }
}

.animate-fall-off-centered-right {
    animation: fallOffCenteredRight 2.2s cubic-bezier(0.25, 0.1, 0.25, 1.0) forwards;
}

@keyframes fallOffCenteredRight {
    0% {
        transform: translateX(-50%) translateY(0) scale(1) rotate(0deg);
    }
    15% {
        transform: translateX(-50%) translateY(-20px) scale(1) rotate(5deg);
    }
    100% {
        transform: translateX(1400px) translateY(1400px) scale(1) rotate(90deg);
    }
}

#characterPreview {
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 60vh;
    z-index: 1;
    border-radius: 0;
}

.loading-content {
    position: relative;
    z-index: 10;
    display: flex;
    flex-direction: column;
    height: 100vh;
    justify-content: space-between;
    align-items: center;
    padding: 2rem;
}

.company-logo {
    position: absolute;
    top: 4vh; /* Logo moved down to 4vh for better breathing room */
    left: 50%;
    transform: translateX(-50%) scale(0.8);
    z-index: 20;
    width: clamp(16rem, 40vw, 32rem);
    height: auto;
    opacity: 0;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

.company-logo.logo-text {
    font-family: 'Tiny5', system-ui, sans-serif;
    font-size: clamp(1.6rem, 6.5vw, 2.8rem);
    font-weight: bold;
    color: #ffd700;
    text-align: center;
    letter-spacing: 0.2em;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    background: none;
    padding: 0;
    border: none;
    border-radius: 0;
    box-shadow: none;
    width: auto;
    max-width: none;
    white-space: nowrap;
}

.company-logo.logo-fallback {
    position: absolute;
    top: 4vh;
    left: 50%;
    transform: translateX(-50%) scale(0.8);
    z-index: 20;
    opacity: 0;
}

.presents-text {
    position: absolute;
    top: 13vh; /* Moved up from 19vh to reduce gap with logo */
    left: 50%;
    transform: translateX(-50%) translateY(-30px);
    z-index: 20;
    font-size: clamp(1.2rem, 4vw, 2rem);
    font-weight: bold;
    color: #ffd700;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    letter-spacing: 0.3em;
    opacity: 0;
    text-align: center;
}

.title-elevated {
    position: absolute;
    top: 25vh; /* Title moved down proportionally */
    left: 50%;
    transform: translateX(-50%);
    z-index: 15;
    text-align: center;
}

.loading-bar-container {
    position: absolute;
    top: 48vh; /* Loading bar moved up by additional 5vh */
    left: 50%;
    transform: translateX(-50%);
    z-index: 12;
}

.bottom-content {
    position: absolute;
    bottom: 12vh; /* Bottom content moved up by additional 5vh */
    left: 50%;
    transform: translateX(-50%);
    width: 100vw;
    height: 25vh; /* Further reduced height to prevent overlap */
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* Changed from center to space-between for better spacing */
    align-items: center;
    padding: 0.5rem; /* Reduced padding to allow more width for disclaimer */
    z-index: 11;
    box-sizing: border-box;
}

.click-to-start-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    width: 100%; /* Ensure full width usage */
    max-width: none; /* Remove any width constraints */
    text-align: center;
}

.click-to-start-message p {
    font-size: clamp(1rem, 4vw, 1.3rem);
    color: #cccccc;
    margin: 0.5rem 0;
    line-height: 1.4;
}

.click-to-start-btn {
    background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%) !important;
    color: #000 !important;
    border: 3px solid #000 !important;
    border-radius: 0 !important;
    padding: 1.5rem 2rem !important;
    font-size: clamp(1.2rem, 5vw, 1.6rem) !important;
    font-family: 'Tiny5', system-ui, sans-serif !important;
    font-weight: bold !important;
    letter-spacing: 0.05em;
    text-shadow: none !important;
    box-shadow: 6px 6px 0 #000 !important;
    transition: all 0.2s ease !important;
    cursor: pointer;
    min-width: 280px;
    max-width: 80vw;
    animation: glow-pulse 2s ease-in-out infinite alternate;
}

.click-to-start-btn:hover {
    background: linear-gradient(135deg, #ffed4e 0%, #ffd700 100%) !important;
    transform: translateY(-3px) !important;
    box-shadow: 8px 8px 0 #000 !important;
}

.click-to-start-btn:active {
    transform: translateY(3px) !important;
    box-shadow: 3px 3px 0 #000 !important;
}

.click-to-start-hint {
    font-size: clamp(0.7rem, 2.5vw, 0.85rem);
    color: #aaaaaa;
    font-style: italic;
    text-align: center;
    margin: 0.5rem auto;
    width: 92%;
    line-height: 1.3;
    padding: 1rem;
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
    box-sizing: border-box;
}

@keyframes glow-pulse {
    0% { 
        box-shadow: 6px 6px 0 #000, 0 0 20px rgba(255, 215, 0, 0.3);
    }
    100% { 
        box-shadow: 6px 6px 0 #000, 0 0 30px rgba(255, 215, 0, 0.6);
    }
}

/* Disclaimer Box Styles */
.disclaimer-box {
    width: 100%;
    min-width: 300px;
    max-width: min(500px, 90vw);
    margin: 1.5rem 0 0 0;
    padding: 1.2rem 1.5rem;
    background: rgba(0, 0, 0, 0.6);
    border: var(--px-border-1) solid rgba(255, 255, 255, 0.3);
    border-radius: 0;
    box-shadow: var(--px-shadow-offset) var(--px-shadow-offset) 0 rgba(0, 0, 0, 0.4);
    font-family: var(--font-pixel);
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    opacity: 0;
    transform: translateY(50px);
    transition: none;
}

/* Disclaimer animation - slides up from bottom and fades in */
.disclaimer-box.animate-disclaimer-enter {
    animation: disclaimerSlideUp 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes disclaimerSlideUp {
    0% {
        opacity: 0;
        transform: translateY(50px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Hidden state for disclaimer */
.disclaimer-box.hidden-disclaimer {
    opacity: 0 !important;
    transform: translateY(50px) !important;
}

.disclaimer-title {
    font-size: clamp(1rem, 3.5vw, 1.2rem);
    font-weight: bold;
    color: var(--color-accent);
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    margin-bottom: 0.8rem;
    text-align: center;
    letter-spacing: 0.05em;
}

.disclaimer-text {
    font-size: clamp(0.75rem, 2.5vw, 0.9rem);
    color: var(--color-text-muted);
    line-height: 1.4;
    text-align: center;
    opacity: 0.9;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    margin: 0;
    word-wrap: break-word;
    hyphens: auto;
}

/* Mobile responsiveness for disclaimer */
@media (max-width: 480px) {
    .disclaimer-box {
        min-width: 280px;
        max-width: 95vw;
        margin: 1rem 0 0 0;
        padding: 1rem 1.2rem;
    }
    
    .disclaimer-title {
        font-size: clamp(0.9rem, 4vw, 1.1rem);
        margin-bottom: 0.6rem;
    }
    
    .disclaimer-text {
        font-size: clamp(0.7rem, 3vw, 0.85rem);
        line-height: 1.3;
    }
}

/* Landscape mode adjustments for disclaimer */
@media (orientation: landscape) and (max-height: 500px) {
    .disclaimer-box {
        min-width: 320px;
        max-width: min(600px, 85vw);
        margin: 0.8rem 0 0 0;
        padding: 0.8rem 1rem;
    }
    
    .disclaimer-title {
        font-size: clamp(0.8rem, 3vw, 1rem);
        margin-bottom: 0.4rem;
    }
    
    .disclaimer-text {
        font-size: clamp(0.65rem, 2.2vw, 0.8rem);
        line-height: 1.3;
    }
}

/* Loading Screen Styles */
.loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    height: 100dvh;
    background: linear-gradient(to bottom, #1a1a2e 0%, #16213e 70%, #0f0f23 100%);
    z-index: 20000; /* Higher than orientation warning */
    display: flex;
    align-items: center;
    justify-content: center;
    color: #ffffff;
    font-family: 'Tiny5', system-ui, sans-serif;
}

.loading-content {
    text-align: center;
    padding: 2rem;
    max-width: 400px;
    animation: fadeInUp 0.6s ease-out;
}

.loading-content h1 {
    color: #ffd700;
    margin-bottom: 2rem;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    animation: glow 2s ease-in-out infinite alternate;
    line-height: 1.1;
}

.title-main {
    font-size: clamp(3.5rem, 15vw, 6rem);
    font-weight: bold;
    margin-bottom: 0.5rem;
    letter-spacing: 0.02em;
    white-space: nowrap;
    opacity: 0; /* Start hidden */
    transform: translateY(-60px);
}

.title-sub {
    font-size: clamp(0.9rem, 3.5vw, 1.4rem);
    font-weight: normal;
    opacity: 0; /* Start hidden by default */
    letter-spacing: 0.01em;
    white-space: nowrap;
    transform: translateY(-60px); /* Start positioned above */
}

/* Only show subtitle when animation starts */
.title-sub.animate-title-sub-enter {
    opacity: 0.9; /* Restore normal opacity during animation */
}

.loading-message {
    font-size: clamp(1rem, 4vw, 1.3rem);
    color: #cccccc;
    margin-bottom: 2rem;
    line-height: 1.4;
    opacity: 0; /* Start hidden */
}

.loading-bar-container {
    margin: 2rem 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    opacity: 0; /* Start hidden */
    transform: translateY(-100px);
}

.loading-bar {
    width: 280px;
    max-width: 80vw;
    height: 20px;
    background: rgba(0, 0, 0, 0.5);
    border: 2px solid #000;
    box-shadow: 4px 4px 0 #000;
    position: relative;
    overflow: hidden;
}

.loading-progress {
    height: 100%;
    background: linear-gradient(90deg, #ffd700 0%, #ffed4e 50%, #ffd700 100%);
    width: 0%;
    transition: width 0.3s ease;
    position: relative;
    box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.3);
}

.loading-progress::after {
    content: '';
    position: absolute;
    top: 0;
    left: -50px;
    width: 50px;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: shine 2s infinite;
}

.loading-percentage {
    font-size: clamp(1.2rem, 5vw, 1.5rem);
    color: #ffd700;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    min-width: 60px;
    opacity: 0; /* Start hidden */
}

.loading-status {
    font-size: clamp(0.9rem, 3vw, 1.1rem);
    color: #cccccc;
    font-style: italic;
    text-align: center;
    margin-top: 0.5rem;
    min-height: 1.5rem;
    opacity: 0; /* Start hidden */
}

.loading-details {
    font-size: clamp(0.9rem, 3vw, 1.1rem);
    color: #aaaaaa;
    font-style: italic;
    min-height: 1.5rem;
    opacity: 0; /* Start hidden */
}

/* Loading screen animations */
@keyframes glow {
    0% { text-shadow: 2px 2px 4px rgba(0,0,0,0.5), 0 0 10px rgba(255, 215, 0, 0.3); }
    100% { text-shadow: 2px 2px 4px rgba(0,0,0,0.5), 0 0 20px rgba(255, 215, 0, 0.6); }
}

@keyframes shine {
    0% { left: -50px; }
    100% { left: 100%; }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Design Tokens */
:root {
    /* Pixel Art Design Tokens */
    --font-pixel: 'Tiny5', system-ui, sans-serif;
    --px-border: #000;
    --px-border-1: 2px;
    --px-shadow-offset: 4px;
    --px-shadow: #000;
    
    /* Colors */
    --color-bg-primary: #1e3c72;
    --color-bg-secondary: #2a5298;
    --color-accent: #ffd700;
    --color-accent-bright: #ffed4e;
    --color-primary: #ff6b6b;
    --color-success: #00ff88;
    --color-error: #ff6b6b;
    --color-warning: #ffa726;
    --color-surface: #16323b;
    --color-surface-light: rgba(255, 255, 255, 0.05);
    --color-text: #ffffff;
    --color-text-muted: #cccccc;
    --color-text-dark: #333333;
    
    /* Spacing */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-xxl: 3rem;
    
    /* Border radius */
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 15px;
    --radius-xl: 20px;
    --radius-pill: 25px;
    
    /* Shadows */
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.15);
    --shadow-md: 0 4px 20px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
    --shadow-focus: 0 0 0 3px rgba(255, 215, 0, 0.4);
    
    /* Typography */
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 2rem;
    --font-size-4xl: 3rem;
    
    /* Interactive */
    --touch-target: 44px;
    --transition: all 0.2s ease;
    --transition-slow: all 0.3s ease;

    /* Buttons - Enhanced for mobile */
    --btn-width: clamp(200px, 50vw, 280px);
    --btn-height: clamp(48px, 12vw, 60px);
    --btn-font-size: clamp(1rem, 4vw, 1.25rem);
}

/* High contrast theme */
[data-theme="high-contrast"] {
    --color-bg-primary: #000000;
    --color-bg-secondary: #1a1a1a;
    --color-surface: rgba(255, 255, 255, 0.95);
    --color-text: #ffffff;
    --color-accent: #ffff00;
    --color-primary: #ff0000;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

body {
    font-family: var(--font-pixel) !important;
    line-height: 1.15;
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: auto;
    text-rendering: optimizeSpeed;
    background: linear-gradient(to bottom, #1a1a2e 0%, #16213e 70%, #0f0f23 100%);
    overflow: hidden;
    touch-action: none;
    user-select: none;
    -webkit-user-select: none;
}
* {
    image-rendering: pixelated;
}

/* Accessibility - Respect user preferences */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

.game-container {
    width: 100vw;
    height: 100dvh;
    min-height: 100dvh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    padding-top: max(env(safe-area-inset-top), var(--space-md));
    padding-bottom: max(env(safe-area-inset-bottom), var(--space-md));
}

/* Fallback for browsers without dvh support */
@supports not (height: 100dvh) {
    :root { --vh: 1vh; }
    .game-container { 
        height: calc(var(--vh) * 100);
        min-height: calc(var(--vh) * 100); 
    }
}

.game-ui {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    z-index: 50;
}

.screen {
    background: var(--color-surface);
    color: var(--color-text);
    padding: 1.5rem 2rem;
    border: var(--px-border-1) solid var(--px-border);
    border-radius: 0;
    text-align: center;
    max-width: 90vw;
    pointer-events: auto;
    box-shadow: var(--px-shadow-offset) var(--px-shadow-offset) 0 var(--px-shadow);
    font-family: var(--font-pixel);
}

.hidden {
    display: none !important;
}

@keyframes pulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}
